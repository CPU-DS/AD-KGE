<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>&#x77e5;&#x8bc6;&#x8868;&#x793a;&#x5b66;&#x4e60;&#x6a21;&#x578b;&#x7684;&#x5bf9;&#x6bd4;&#x5206;&#x6790;</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <h1 id="知识表示学习模型的对比分析">知识表示学习模型的对比分析</h1>
<h2 id="drkg-知识图谱的数据集的划分">DRKG 知识图谱的数据集的划分</h2>
<p>划分数据集: <a href="01_split_dataset.ipynb">01_split_dataset.ipynb</a></p>
<h2 id="各个模型的训练结果">各个模型的训练结果</h2>
<h3 id="transe_l1">TransE_l1</h3>
<p>训练脚本: <a href="02_Train_TransE_l1.ipynb">02_Train_TransE_l1.ipynb</a></p>
<p>TransE_l1 模型的网格搜索<strong>验证集</strong>结果, 加粗的是最优结果, MR 越低越好, MRR 和 Hits@k 越高越好.</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数编号</th>
<th style="text-align:center">[0]MRR</th>
<th style="text-align:center">[0]MR</th>
<th style="text-align:center">[0]HITS@1</th>
<th style="text-align:center">[0]HITS@3</th>
<th style="text-align:center">[0]HITS@10</th>
<th style="text-align:center">[1]MRR</th>
<th style="text-align:center">[1]MR</th>
<th style="text-align:center">[1]HITS@1</th>
<th style="text-align:center">[1]HITS@3</th>
<th style="text-align:center">[1]HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.48122696036532836</td>
<td style="text-align:center">76.20820055019884</td>
<td style="text-align:center">0.36836765266655774</td>
<td style="text-align:center">0.5478802364220733</td>
<td style="text-align:center">0.6833258430026693</td>
<td style="text-align:center">0.48289008172554343</td>
<td style="text-align:center">74.24485383740645</td>
<td style="text-align:center">0.37130678142683016</td>
<td style="text-align:center">0.5483463505314694</td>
<td style="text-align:center">0.6831815984256794</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.48267444788162295</td>
<td style="text-align:center">71.13128417440095</td>
<td style="text-align:center">0.36739140796829567</td>
<td style="text-align:center">0.5515569567674676</td>
<td style="text-align:center">0.6884520315681241</td>
<td style="text-align:center">0.48096923309855205</td>
<td style="text-align:center">72.86914392329902</td>
<td style="text-align:center">0.36501062265075995</td>
<td style="text-align:center">0.551182791305769</td>
<td style="text-align:center">0.6870369613771313</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.47400738903192896</td>
<td style="text-align:center">72.81550634635289</td>
<td style="text-align:center">0.359348613607888</td>
<td style="text-align:center">0.5415645257939751</td>
<td style="text-align:center">0.6806769897042</td>
<td style="text-align:center">0.4749349027381162</td>
<td style="text-align:center">71.40871051430985</td>
<td style="text-align:center">0.3605173740441382</td>
<td style="text-align:center">0.5417719277937041</td>
<td style="text-align:center">0.6810230360146264</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.5014444223687231</td>
<td style="text-align:center">70.2040590506411</td>
<td style="text-align:center">0.38596389685203975</td>
<td style="text-align:center">0.5716751669991897</td>
<td style="text-align:center">0.7074398905057301</td>
<td style="text-align:center">0.4999264299303186</td>
<td style="text-align:center">72.35809228087378</td>
<td style="text-align:center">0.3838692324453887</td>
<td style="text-align:center">0.5706304134662527</td>
<td style="text-align:center">0.7062837064879882</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.5120793746352214</td>
<td style="text-align:center">63.73809556234977</td>
<td style="text-align:center">0.393678884901639</td>
<td style="text-align:center">0.5855662310955555</td>
<td style="text-align:center">0.7233294974022348</td>
<td style="text-align:center">0.5121924790037987</td>
<td style="text-align:center">65.47711703982132</td>
<td style="text-align:center">0.3939913929291278</td>
<td style="text-align:center">0.5857098109712916</td>
<td style="text-align:center">0.7226466742931852</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">0.50933856403605</td>
<td style="text-align:center">63.334324099798444</td>
<td style="text-align:center">0.3905730783897151</td>
<td style="text-align:center">0.5840278912676363</td>
<td style="text-align:center">0.721141798768862</td>
<td style="text-align:center">0.5097445143374414</td>
<td style="text-align:center">62.208682595994745</td>
<td style="text-align:center">0.3909415281532375</td>
<td style="text-align:center">0.5834349060650837</td>
<td style="text-align:center">0.7216680171867872</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">0.49119904221329336</td>
<td style="text-align:center">74.14914508671701</td>
<td style="text-align:center">0.375303867027108</td>
<td style="text-align:center">0.5607836194393185</td>
<td style="text-align:center">0.6986251932151685</td>
<td style="text-align:center">0.4905121523890639</td>
<td style="text-align:center">75.50917905975922</td>
<td style="text-align:center">0.3750749033066405</td>
<td style="text-align:center">0.5598545513972871</td>
<td style="text-align:center">0.6968390804597702</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">0.5130088873645207</td>
<td style="text-align:center">64.62505021892045</td>
<td style="text-align:center">0.39454367173508925</td>
<td style="text-align:center">0.587248139346439</td>
<td style="text-align:center">0.7241908795631125</td>
<td style="text-align:center">0.5118707047974405</td>
<td style="text-align:center">66.35279457427684</td>
<td style="text-align:center">0.3934466416081059</td>
<td style="text-align:center">0.5861830636814295</td>
<td style="text-align:center">0.7227692433404151</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">0.509035085275767</td>
<td style="text-align:center">61.944459576322544</td>
<td style="text-align:center">0.3891540750526022</td>
<td style="text-align:center">0.5840000817121418</td>
<td style="text-align:center">0.7242487589968473</td>
<td style="text-align:center">0.507942494897664</td>
<td style="text-align:center">63.83500163425396</td>
<td style="text-align:center">0.38797189083183525</td>
<td style="text-align:center">0.5830745764558479</td>
<td style="text-align:center">0.7229190499536962</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">0.4952289118431002</td>
<td style="text-align:center">72.78330473388898</td>
<td style="text-align:center">0.38342662199705835</td>
<td style="text-align:center">0.562438715476385</td>
<td style="text-align:center">0.693189246608923</td>
<td style="text-align:center">0.4960628596106997</td>
<td style="text-align:center">70.92829078627508</td>
<td style="text-align:center">0.3839551400341829</td>
<td style="text-align:center">0.5629455865229441</td>
<td style="text-align:center">0.6950162402881714</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">0.4857781925826427</td>
<td style="text-align:center">71.27453577289472</td>
<td style="text-align:center">0.3735334372893359</td>
<td style="text-align:center">0.5521391557773889</td>
<td style="text-align:center">0.6859189551740809</td>
<td style="text-align:center">0.484052056738569</td>
<td style="text-align:center">73.14981001797679</td>
<td style="text-align:center">0.37175532494416297</td>
<td style="text-align:center">0.5506414446805034</td>
<td style="text-align:center">0.6845379146919431</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">0.4531364398013237</td>
<td style="text-align:center">75.21384407961486</td>
<td style="text-align:center">0.3366199772567872</td>
<td style="text-align:center">0.5197641242841676</td>
<td style="text-align:center">0.6654534683399498</td>
<td style="text-align:center">0.451064186312205</td>
<td style="text-align:center">77.35509274391241</td>
<td style="text-align:center">0.3349097074685406</td>
<td style="text-align:center">0.5172209511358065</td>
<td style="text-align:center">0.6634900855259575</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center"><strong><code>0.5330231677081421</code></strong></td>
<td style="text-align:center">63.89646050239349</td>
<td style="text-align:center"><strong><code>0.41905050491294255</code></strong></td>
<td style="text-align:center">0.6050920282996384</td>
<td style="text-align:center">0.7329681254553749</td>
<td style="text-align:center"><strong><code>0.5316331356014069</code></strong></td>
<td style="text-align:center">65.63173108351037</td>
<td style="text-align:center"><strong><code>0.4170241597210873</code></strong></td>
<td style="text-align:center">0.6045445878956256</td>
<td style="text-align:center">0.7324079370267473</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">0.5255667998225652</td>
<td style="text-align:center">62.922151631530205</td>
<td style="text-align:center">0.4068611428882715</td>
<td style="text-align:center">0.6016403824154274</td>
<td style="text-align:center">0.7349716729313068</td>
<td style="text-align:center">0.5262901176734012</td>
<td style="text-align:center">61.68584405237748</td>
<td style="text-align:center">0.4081930040787977</td>
<td style="text-align:center">0.6013502931423085</td>
<td style="text-align:center">0.7356407934248963</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">0.5037199338747503</td>
<td style="text-align:center">62.75795336928692</td>
<td style="text-align:center">0.381656180203737</td>
<td style="text-align:center">0.5797549980933704</td>
<td style="text-align:center">0.722231301410906</td>
<td style="text-align:center">0.5054789886326427</td>
<td style="text-align:center">61.4538224258973</td>
<td style="text-align:center">0.38422070449484874</td>
<td style="text-align:center">0.5806158371749389</td>
<td style="text-align:center">0.7240002178990447</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">0.5283970961559467</td>
<td style="text-align:center">65.72206976855036</td>
<td style="text-align:center">0.4122275410773746</td>
<td style="text-align:center">0.6008702343095664</td>
<td style="text-align:center">0.7349019794766337</td>
<td style="text-align:center">0.5268956976889748</td>
<td style="text-align:center">67.38687217410252</td>
<td style="text-align:center">0.4102113635125565</td>
<td style="text-align:center">0.6000980552377839</td>
<td style="text-align:center">0.734181783515825</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">0.5321311507641732</td>
<td style="text-align:center"><strong><code>61.461346752282836</code></strong></td>
<td style="text-align:center">0.41401839885058256</td>
<td style="text-align:center"><strong><code>0.6073459215427253</code></strong></td>
<td style="text-align:center"><strong><code>0.7421539320563542</code></strong></td>
<td style="text-align:center">0.5306987907911145</td>
<td style="text-align:center">62.68348586370322</td>
<td style="text-align:center">0.4119784006101215</td>
<td style="text-align:center"><strong><code>0.6069414937081222</code></strong></td>
<td style="text-align:center"><strong><code>0.7413554774745329</code></strong></td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">0.511921663585674</td>
<td style="text-align:center">61.573572070599774</td>
<td style="text-align:center">0.38970828566759275</td>
<td style="text-align:center">0.5888693686332189</td>
<td style="text-align:center">0.7317133790924443</td>
<td style="text-align:center">0.5130283538431702</td>
<td style="text-align:center"><strong><code>60.0321911791743</code></strong></td>
<td style="text-align:center">0.39094833749838276</td>
<td style="text-align:center">0.5895565073506881</td>
<td style="text-align:center">0.7339963365723119</td>
</tr>
</tbody>
</table>
<p>TransE_l1 模型最佳参数是第 17 号:</p>
<ul>
<li>
<p>batch_size: <strong>4096</strong></p>
</li>
<li>
<p>neg_sample_size: <strong>256</strong></p>
</li>
<li>
<p>hidden_dim: 200, <strong>400</strong></p>
</li>
<li>
<p>gamma: 6, 12, <strong>18</strong></p>
</li>
<li>
<p>lr: 0.01, <strong>0.05</strong>, 0.1</p>
</li>
</ul>
<p>对应的测试集结果:</p>
<ul>
<li>
<p>Test average MRR : 0.5299729313494324</p>
</li>
<li>
<p>Test average MR : 62.644429615203904</p>
</li>
<li>
<p>Test average HITS@1 : 0.41152788086369735</p>
</li>
<li>
<p>Test average HITS@3 : 0.6055363380703678</p>
</li>
<li>
<p>Test average HITS@10 : 0.7400889981410488</p>
</li>
</ul>
<h3 id="transe_l2">TransE_l2</h3>
<p>训练脚本: <a href="03_Train_TransE_l2.ipynb">03_Train_TransE_l2.ipynb</a></p>
<p>TransE_l2 模型的网格搜索验证集结果, 加粗的是最优结果, MR 越低越好, MRR 和 Hits@k 越高越好.</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数编号</th>
<th style="text-align:center">[0]MRR</th>
<th style="text-align:center">[0]MR</th>
<th style="text-align:center">[0]HITS@1</th>
<th style="text-align:center">[0]HITS@3</th>
<th style="text-align:center">[0]HITS@10</th>
<th style="text-align:center">[1]MRR</th>
<th style="text-align:center">[1]MR</th>
<th style="text-align:center">[1]HITS@1</th>
<th style="text-align:center">[1]HITS@3</th>
<th style="text-align:center">[1]HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.3382910173602461</td>
<td style="text-align:center">124.41254358010568</td>
<td style="text-align:center">0.2450257394999183</td>
<td style="text-align:center">0.37389687857493054</td>
<td style="text-align:center">0.5165263932015035</td>
<td style="text-align:center">0.33983934897084694</td>
<td style="text-align:center">122.23542289438025</td>
<td style="text-align:center">0.24678088208257012</td>
<td style="text-align:center">0.3748884969732461</td>
<td style="text-align:center">0.5172787133061414</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.42796099959437905</td>
<td style="text-align:center">73.70411831998693</td>
<td style="text-align:center">0.3085675764013728</td>
<td style="text-align:center">0.49333020101323743</td>
<td style="text-align:center">0.6526563436291333</td>
<td style="text-align:center">0.42917269431302585</td>
<td style="text-align:center">72.27962575839082</td>
<td style="text-align:center">0.3095392116140191</td>
<td style="text-align:center">0.49522664905316055</td>
<td style="text-align:center">0.65324771716704</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.430608388334019</td>
<td style="text-align:center">70.76222966715694</td>
<td style="text-align:center">0.30926553903143217</td>
<td style="text-align:center">0.4976677834068748</td>
<td style="text-align:center">0.658447731110748</td>
<td style="text-align:center">0.43204861476570494</td>
<td style="text-align:center">69.52074807465766</td>
<td style="text-align:center">0.3109487460590915</td>
<td style="text-align:center">0.4996901747958899</td>
<td style="text-align:center">0.6588654269118939</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.22731269206151322</td>
<td style="text-align:center">190.36415944871166</td>
<td style="text-align:center">0.14723266328920848</td>
<td style="text-align:center">0.25056858419131667</td>
<td style="text-align:center">0.3760077899438906</td>
<td style="text-align:center">0.22779628337957006</td>
<td style="text-align:center">188.3008811292618</td>
<td style="text-align:center">0.14782747843139926</td>
<td style="text-align:center">0.2502196013809352</td>
<td style="text-align:center">0.3766112612950013</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.4069249131270877</td>
<td style="text-align:center">73.55388234813458</td>
<td style="text-align:center">0.2813621414028613</td>
<td style="text-align:center">0.4720408288334911</td>
<td style="text-align:center">0.6497681417978033</td>
<td style="text-align:center">0.4059100089363876</td>
<td style="text-align:center">73.85231791687094</td>
<td style="text-align:center">0.28049245519420385</td>
<td style="text-align:center">0.4706889742332625</td>
<td style="text-align:center">0.6490609849103884</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">0.419027714882311</td>
<td style="text-align:center">66.23961064164459</td>
<td style="text-align:center">0.28483831209952537</td>
<td style="text-align:center">0.4930408492615265</td>
<td style="text-align:center">0.6776490054951415</td>
<td style="text-align:center">0.41837934375893626</td>
<td style="text-align:center">67.14377008770497</td>
<td style="text-align:center">0.2844521163588822</td>
<td style="text-align:center">0.49201939314702836</td>
<td style="text-align:center">0.6771258920302882</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">0.1802571911784871</td>
<td style="text-align:center">238.4513571117285</td>
<td style="text-align:center">0.11158890341559079</td>
<td style="text-align:center">0.1957768153837773</td>
<td style="text-align:center">0.3044342757531187</td>
<td style="text-align:center">0.1817561502550769</td>
<td style="text-align:center">236.07416738732235</td>
<td style="text-align:center">0.11302491539388657</td>
<td style="text-align:center">0.19735184567300162</td>
<td style="text-align:center">0.3056885269343647</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">0.35821379801699993</td>
<td style="text-align:center">92.08655699081419</td>
<td style="text-align:center">0.24082610975302504</td>
<td style="text-align:center">0.40711031820069865</td>
<td style="text-align:center">0.5956304432202755</td>
<td style="text-align:center">0.35728452583197523</td>
<td style="text-align:center">94.07067467451108</td>
<td style="text-align:center">0.23968377185814677</td>
<td style="text-align:center">0.4067555973198235</td>
<td style="text-align:center">0.5945484011548728</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">0.36241274851052147</td>
<td style="text-align:center">84.07679972217683</td>
<td style="text-align:center">0.23175083074576455</td>
<td style="text-align:center">0.4196423707577491</td>
<td style="text-align:center">0.6322383831780792</td>
<td style="text-align:center">0.3629433550328978</td>
<td style="text-align:center">82.15939315116066</td>
<td style="text-align:center">0.23302600488910982</td>
<td style="text-align:center">0.41922073854157443</td>
<td style="text-align:center">0.6330069387227031</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">0.37350078020018523</td>
<td style="text-align:center">101.97766860053386</td>
<td style="text-align:center">0.2744320967478346</td>
<td style="text-align:center">0.41502560331208804</td>
<td style="text-align:center">0.5635997167293131</td>
<td style="text-align:center">0.3743371509976858</td>
<td style="text-align:center">100.53971891023241</td>
<td style="text-align:center">0.2751758513383768</td>
<td style="text-align:center">0.41563902299515854</td>
<td style="text-align:center">0.5644742845080588</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">0.4360053122241365</td>
<td style="text-align:center">69.44146686913119</td>
<td style="text-align:center"><strong><code>0.3160114941746052</code></strong></td>
<td style="text-align:center">0.5026794773146667</td>
<td style="text-align:center">0.6598017118693695</td>
<td style="text-align:center">0.4348720794271351</td>
<td style="text-align:center">70.76965871329737</td>
<td style="text-align:center"><strong><code>0.31477774146102305</code></strong></td>
<td style="text-align:center">0.5019236531023588</td>
<td style="text-align:center">0.659292095658332</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">0.4340395155559925</td>
<td style="text-align:center">70.13165277550799</td>
<td style="text-align:center">0.31262256904722996</td>
<td style="text-align:center">0.5022539085907284</td>
<td style="text-align:center">0.6604939532603367</td>
<td style="text-align:center">0.4352961100840235</td>
<td style="text-align:center">68.86682963699381</td>
<td style="text-align:center">0.31420361303853406</td>
<td style="text-align:center">0.5024547689248725</td>
<td style="text-align:center">0.6614870247928257</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">0.2785167394881829</td>
<td style="text-align:center">156.24436522852318</td>
<td style="text-align:center">0.19065274827041456</td>
<td style="text-align:center">0.3069128942637686</td>
<td style="text-align:center">0.4446328376096312</td>
<td style="text-align:center">0.27957138229044726</td>
<td style="text-align:center">153.88232430187188</td>
<td style="text-align:center">0.19170349387499405</td>
<td style="text-align:center">0.30751343143329907</td>
<td style="text-align:center">0.4458180406790279</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">0.43153780042703227</td>
<td style="text-align:center">64.09098028000219</td>
<td style="text-align:center">0.29941915890396037</td>
<td style="text-align:center">0.5064859454159176</td>
<td style="text-align:center">0.6819197036552813</td>
<td style="text-align:center">0.43203328532534274</td>
<td style="text-align:center">63.40704222474925</td>
<td style="text-align:center">0.29961799573734993</td>
<td style="text-align:center">0.5076332759078559</td>
<td style="text-align:center">0.6828513451861334</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center"><strong><code>0.43720292675679395</code></strong></td>
<td style="text-align:center"><strong><code>60.55879569101705</code></strong></td>
<td style="text-align:center">0.30186373045704634</td>
<td style="text-align:center"><strong><code>0.5154028436018957</code></strong></td>
<td style="text-align:center"><strong><code>0.6927125892030288</code></strong></td>
<td style="text-align:center"><strong><code>0.43882771726763714</code></strong></td>
<td style="text-align:center"><strong><code>59.55881571869234</code></strong></td>
<td style="text-align:center">0.30384659907256717</td>
<td style="text-align:center"><strong><code>0.5163696657292468</code></strong></td>
<td style="text-align:center"><strong><code>0.6943659478267975</code></strong></td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">0.21547286845364044</td>
<td style="text-align:center">205.91741910442883</td>
<td style="text-align:center">0.1372500953314812</td>
<td style="text-align:center">0.23613948357574768</td>
<td style="text-align:center">0.36113948357574766</td>
<td style="text-align:center">0.21656561726517387</td>
<td style="text-align:center">203.94086083741325</td>
<td style="text-align:center">0.13807649618336204</td>
<td style="text-align:center">0.23796278011943592</td>
<td style="text-align:center">0.3623593019059357</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">0.39067502956758654</td>
<td style="text-align:center">75.11485060195021</td>
<td style="text-align:center">0.2609426921610285</td>
<td style="text-align:center">0.4543770768644114</td>
<td style="text-align:center">0.6487205153347497</td>
<td style="text-align:center">0.3916976274407525</td>
<td style="text-align:center">73.9917130269582</td>
<td style="text-align:center">0.26221766752691394</td>
<td style="text-align:center">0.45485063701423833</td>
<td style="text-align:center">0.650299270719135</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">0.3962854144830095</td>
<td style="text-align:center">70.73069537506129</td>
<td style="text-align:center">0.25975445334204933</td>
<td style="text-align:center">0.46458095004630384</td>
<td style="text-align:center">0.6706297325271013</td>
<td style="text-align:center">0.3971110873826839</td>
<td style="text-align:center">69.95326405959538</td>
<td style="text-align:center">0.2601646499656128</td>
<td style="text-align:center">0.4664775938497995</td>
<td style="text-align:center">0.6711188435008205</td>
</tr>
</tbody>
</table>
<p>TransE_l2 模型最佳参数是第 15 号:</p>
<ul>
<li>
<p>batch_size: <strong>4096</strong></p>
</li>
<li>
<p>neg_sample_size: <strong>256</strong></p>
</li>
<li>
<p>hidden_dim: 200, <strong>400</strong></p>
</li>
<li>
<p>gamma: 6, <strong>12</strong>, 18</p>
</li>
<li>
<p>lr: 0.01, 0.05, <strong>0.1</strong></p>
</li>
</ul>
<p>对应的测试集结果:</p>
<ul>
<li>
<p>Test average MRR : 0.43722459698865124</p>
</li>
<li>
<p>Test average MR : 60.83355236726884</p>
</li>
<li>
<p>Test average HITS@1 : 0.3020931926976583</p>
</li>
<li>
<p>Test average HITS@3 : 0.5153057055502972</p>
</li>
<li>
<p>Test average HITS@10 : 0.6925784947261622</p>
</li>
</ul>
<h3 id="transr">TransR</h3>
<p>训练脚本: <a href="04_Train_TransR.ipynb">04_Train_TransR.ipynb</a></p>
<p>使用两个 GPU 训练模型. 训练一次大约 100000 * 2.7 / 3600 = 75.0 h, 因此我们没有进行 TransR 的网格搜索实验, 也不会进行 TransR 的药物重定位实验.</p>
<h3 id="rescal">RESCAL</h3>
<p>训练脚本: <a href="05_Train_RESCAL.ipynb">05_Train_RESCAL.ipynb</a></p>
<p>使用两个 GPU 训练模型. 训练一次大约 100000 * 1.35 / 3600 = 37.5 h, 因此我们没有进行 RESCAL 的网格搜索实验, 也不会进行 RESCAL 的药物重定位实验.</p>
<h3 id="distmult">DistMult</h3>
<p>训练脚本: <a href="06_Train_DistMult.ipynb">06_Train_DistMult.ipynb</a></p>
<p>DistMult 模型的网格搜索验证集结果, 加粗的是最优结果, MR 越低越好, MRR 和 Hits@k 越高越好.</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数编号</th>
<th style="text-align:center">[0]MRR</th>
<th style="text-align:center">[0]MR</th>
<th style="text-align:center">[0]HITS@1</th>
<th style="text-align:center">[0]HITS@3</th>
<th style="text-align:center">[0]HITS@10</th>
<th style="text-align:center">[1]MRR</th>
<th style="text-align:center">[1]MR</th>
<th style="text-align:center">[1]HITS@1</th>
<th style="text-align:center">[1]HITS@3</th>
<th style="text-align:center">[1]HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.27953768869172535</td>
<td style="text-align:center">144.22441371139075</td>
<td style="text-align:center">0.19776175300975105</td>
<td style="text-align:center">0.3031915618020374</td>
<td style="text-align:center">0.43341096039657895</td>
<td style="text-align:center">0.27987822388440436</td>
<td style="text-align:center">141.42094350286334</td>
<td style="text-align:center">0.19814513438242645</td>
<td style="text-align:center">0.30309416643401405</td>
<td style="text-align:center">0.4334011998066146</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.42850420681476986</td>
<td style="text-align:center"><strong><code>77.03553456764062</code></strong></td>
<td style="text-align:center">0.3321768795494937</td>
<td style="text-align:center">0.46704276949685747</td>
<td style="text-align:center">0.611806042612882</td>
<td style="text-align:center">0.4273559031623114</td>
<td style="text-align:center">78.36405390314322</td>
<td style="text-align:center">0.3306742659475949</td>
<td style="text-align:center">0.466147110094242</td>
<td style="text-align:center">0.6114867625428991</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.45503971916323466</td>
<td style="text-align:center">88.02195347823718</td>
<td style="text-align:center">0.3623481505692651</td>
<td style="text-align:center">0.49167551887563327</td>
<td style="text-align:center">0.6325311870131285</td>
<td style="text-align:center">0.45545291082901107</td>
<td style="text-align:center">86.00564494712543</td>
<td style="text-align:center">0.3630947111816257</td>
<td style="text-align:center">0.49154960267471076</td>
<td style="text-align:center">0.6321659845972613</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.21115184783331126</td>
<td style="text-align:center">257.94436727134064</td>
<td style="text-align:center">0.14700795336928693</td>
<td style="text-align:center">0.22849934629841478</td>
<td style="text-align:center">0.3246445497630332</td>
<td style="text-align:center">0.21150550746475802</td>
<td style="text-align:center">253.28818170056584</td>
<td style="text-align:center">0.14707164112027346</td>
<td style="text-align:center">0.2295396201747278</td>
<td style="text-align:center">0.32500663911151667</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.3887170930490174</td>
<td style="text-align:center">95.09525933390985</td>
<td style="text-align:center">0.2937074841512492</td>
<td style="text-align:center">0.4247669501624029</td>
<td style="text-align:center">0.5707286680239961</td>
<td style="text-align:center">0.3884288981310466</td>
<td style="text-align:center">94.89923121969821</td>
<td style="text-align:center">0.2935698915944871</td>
<td style="text-align:center">0.4245791796045105</td>
<td style="text-align:center">0.570150351364602</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">0.4421876367310942</td>
<td style="text-align:center">94.19057444026802</td>
<td style="text-align:center">0.34832080405294985</td>
<td style="text-align:center">0.47969779920466304</td>
<td style="text-align:center">0.6211867407528463</td>
<td style="text-align:center">0.441997598957335</td>
<td style="text-align:center">92.46218089706313</td>
<td style="text-align:center">0.3484444051015614</td>
<td style="text-align:center">0.47903402629769093</td>
<td style="text-align:center">0.6208999230543999</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">0.1293204492557603</td>
<td style="text-align:center">371.36844004712066</td>
<td style="text-align:center">0.08003023349244504</td>
<td style="text-align:center">0.1396051941684768</td>
<td style="text-align:center">0.21442287395221202</td>
<td style="text-align:center">0.1292708182304253</td>
<td style="text-align:center">375.4471795500354</td>
<td style="text-align:center">0.08008184888598355</td>
<td style="text-align:center">0.1395891213161192</td>
<td style="text-align:center">0.21357316010241326</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">0.3222050036607892</td>
<td style="text-align:center">115.43503159557662</td>
<td style="text-align:center">0.23162485700277824</td>
<td style="text-align:center">0.3531554720270197</td>
<td style="text-align:center">0.4937898349403497</td>
<td style="text-align:center">0.3211422850107671</td>
<td style="text-align:center">115.53231715205949</td>
<td style="text-align:center">0.23070061352199758</td>
<td style="text-align:center">0.35091279271672443</td>
<td style="text-align:center">0.49294211375692</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">0.42433107201796333</td>
<td style="text-align:center">96.64075597349803</td>
<td style="text-align:center">0.3310737656359588</td>
<td style="text-align:center">0.46145910647773003</td>
<td style="text-align:center">0.6027462088970904</td>
<td style="text-align:center">0.42388170415212406</td>
<td style="text-align:center">98.12352236204173</td>
<td style="text-align:center">0.33019079915018795</td>
<td style="text-align:center">0.46102644767663564</td>
<td style="text-align:center">0.6025153892248188</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">0.28283639816706024</td>
<td style="text-align:center">117.26207126660628</td>
<td style="text-align:center">0.1986422165780317</td>
<td style="text-align:center">0.30610389698822665</td>
<td style="text-align:center">0.44374799975486356</td>
<td style="text-align:center">0.2831915304432085</td>
<td style="text-align:center">118.44005692651305</td>
<td style="text-align:center">0.19956624176063628</td>
<td style="text-align:center">0.3056837990957128</td>
<td style="text-align:center">0.44326414991556357</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">0.46720313530023155</td>
<td style="text-align:center">77.76997875469849</td>
<td style="text-align:center">0.37509533148117885</td>
<td style="text-align:center">0.5046201721414174</td>
<td style="text-align:center">0.6419690036498339</td>
<td style="text-align:center">0.46727195280358425</td>
<td style="text-align:center"><strong><code>78.06577146475823</code></strong></td>
<td style="text-align:center">0.3755558127974833</td>
<td style="text-align:center">0.5039698482196967</td>
<td style="text-align:center">0.6416990678006496</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center"><strong><code>0.48439492118073163</code></strong></td>
<td style="text-align:center">105.27600166149153</td>
<td style="text-align:center"><strong><code>0.40132170289262953</code></strong></td>
<td style="text-align:center"><strong><code>0.5158250258756878</code></strong></td>
<td style="text-align:center"><strong><code>0.6421630713079479</code></strong></td>
<td style="text-align:center"><strong><code>0.48397887333135575</code></strong></td>
<td style="text-align:center">104.80246089733551</td>
<td style="text-align:center"><strong><code>0.40090019542820565</code></strong></td>
<td style="text-align:center"><strong><code>0.5151031275322252</code></strong></td>
<td style="text-align:center"><strong><code>0.642505975200365</code></strong></td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">0.31773067910122527</td>
<td style="text-align:center">117.0837418968241</td>
<td style="text-align:center">0.22975567903252164</td>
<td style="text-align:center">0.3454268126600207</td>
<td style="text-align:center">0.4856526120825843</td>
<td style="text-align:center">0.3190512146807909</td>
<td style="text-align:center">115.66930755769218</td>
<td style="text-align:center">0.23084360977004842</td>
<td style="text-align:center">0.34666376134607135</td>
<td style="text-align:center">0.4870111741353834</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">0.4672355973698691</td>
<td style="text-align:center">85.05888721681636</td>
<td style="text-align:center">0.37867449287402033</td>
<td style="text-align:center">0.5021279203578992</td>
<td style="text-align:center">0.6359519804980355</td>
<td style="text-align:center">0.46757057693778614</td>
<td style="text-align:center">87.67238315084164</td>
<td style="text-align:center">0.3790822302119083</td>
<td style="text-align:center">0.5022641226779975</td>
<td style="text-align:center">0.6359154545949774</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">0.4799116844790812</td>
<td style="text-align:center">104.82799594163029</td>
<td style="text-align:center">0.3963958136146047</td>
<td style="text-align:center">0.510666839170077</td>
<td style="text-align:center">0.6406572379934222</td>
<td style="text-align:center">0.4796667773895746</td>
<td style="text-align:center">105.90874734433731</td>
<td style="text-align:center">0.3962214686495615</td>
<td style="text-align:center">0.5108984311161955</td>
<td style="text-align:center">0.6391703437380836</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">0.2960559938766072</td>
<td style="text-align:center">120.87413606433469</td>
<td style="text-align:center">0.2134014721804204</td>
<td style="text-align:center">0.32025712087268565</td>
<td style="text-align:center">0.4523822493990753</td>
<td style="text-align:center">0.29567337374799535</td>
<td style="text-align:center">121.14874434820504</td>
<td style="text-align:center">0.2135595413193877</td>
<td style="text-align:center">0.3192072506400828</td>
<td style="text-align:center">0.4514183962521109</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">0.4520698517084259</td>
<td style="text-align:center">96.14584595899413</td>
<td style="text-align:center">0.3637824550412987</td>
<td style="text-align:center">0.4851351995478595</td>
<td style="text-align:center">0.6227112088630437</td>
<td style="text-align:center">0.4533569558370097</td>
<td style="text-align:center">95.54875864792722</td>
<td style="text-align:center">0.36535449692215505</td>
<td style="text-align:center">0.4866331644604238</td>
<td style="text-align:center">0.621860870512611</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">0.47699706413815457</td>
<td style="text-align:center">110.01799381707251</td>
<td style="text-align:center">0.39202347878193605</td>
<td style="text-align:center">0.5097782862123441</td>
<td style="text-align:center">0.6398717110638993</td>
<td style="text-align:center">0.4772150236136709</td>
<td style="text-align:center">108.74322299924417</td>
<td style="text-align:center">0.39252470089951447</td>
<td style="text-align:center">0.5090360010077831</td>
<td style="text-align:center">0.6399014006822964</td>
</tr>
</tbody>
</table>
<p>DistMult 模型最佳参数是第 12 号:</p>
<ul>
<li>
<p>batch_size: <strong>4096</strong></p>
</li>
<li>
<p>neg_sample_size: <strong>256</strong></p>
</li>
<li>
<p>hidden_dim: 200, <strong>400</strong></p>
</li>
<li>
<p>gamma: <strong>50</strong>, 125, 200</p>
</li>
<li>
<p>lr: 0.01, 0.05, <strong>0.1</strong></p>
</li>
</ul>
<p>对应的测试集结果:</p>
<ul>
<li>
<p>Test average MRR : 0.4837632646888461</p>
</li>
<li>
<p>Test average MR : 105.5472364272728</p>
</li>
<li>
<p>Test average HITS@1 : 0.4006771893746978</p>
</li>
<li>
<p>Test average HITS@3 : 0.51485118176185</p>
</li>
<li>
<p>Test average HITS@10 : 0.6430064620685428</p>
</li>
</ul>
<h3 id="complex">ComplEx</h3>
<p>训练脚本: <a href="07_Train_ComplEx.ipynb">07_Train_ComplEx.ipynb</a></p>
<p>ComplEx 模型的网格搜索验证集结果, 加粗的是最优结果, MR 越低越好, MRR 和 Hits@k 越高越好.</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数编号</th>
<th style="text-align:center">[0]MRR</th>
<th style="text-align:center">[0]MR</th>
<th style="text-align:center">[0]HITS@1</th>
<th style="text-align:center">[0]HITS@3</th>
<th style="text-align:center">[0]HITS@10</th>
<th style="text-align:center">[1]MRR</th>
<th style="text-align:center">[1]MR</th>
<th style="text-align:center">[1]HITS@1</th>
<th style="text-align:center">[1]HITS@3</th>
<th style="text-align:center">[1]HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.3469807991169364</td>
<td style="text-align:center">136.86552132701422</td>
<td style="text-align:center">0.2557607452198072</td>
<td style="text-align:center">0.3815642534183145</td>
<td style="text-align:center">0.5230531949664978</td>
<td style="text-align:center">0.34743771338067886</td>
<td style="text-align:center">134.11737608694173</td>
<td style="text-align:center">0.25603137746242943</td>
<td style="text-align:center">0.3816229393219254</td>
<td style="text-align:center">0.5244693817795543</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.5318915831671349</td>
<td style="text-align:center"><strong><code>77.8826741842349</code></strong></td>
<td style="text-align:center">0.4305373971781882</td>
<td style="text-align:center">0.5885459225363622</td>
<td style="text-align:center">0.7201408182164841</td>
<td style="text-align:center">0.5318304797882802</td>
<td style="text-align:center"><strong><code>76.20201624709752</code></strong></td>
<td style="text-align:center">0.43049360942958115</td>
<td style="text-align:center">0.5882184710296411</td>
<td style="text-align:center">0.7199690855730404</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.5811299030278562</td>
<td style="text-align:center">85.80649543433408</td>
<td style="text-align:center">0.4837494978107955</td>
<td style="text-align:center">0.6413347678353772</td>
<td style="text-align:center">0.7561845877281982</td>
<td style="text-align:center">0.5798372634952892</td>
<td style="text-align:center">87.80446151331917</td>
<td style="text-align:center">0.48291523669444897</td>
<td style="text-align:center">0.6389864901672386</td>
<td style="text-align:center">0.7547699787546985</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.22055428159633797</td>
<td style="text-align:center">232.88462847959906</td>
<td style="text-align:center">0.1598947268072125</td>
<td style="text-align:center">0.23535299885602223</td>
<td style="text-align:center">0.3258055510159612</td>
<td style="text-align:center">0.22079080941872903</td>
<td style="text-align:center">229.41645273974</td>
<td style="text-align:center">0.1599583268077109</td>
<td style="text-align:center">0.23516754393729955</td>
<td style="text-align:center">0.32578630913065093</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.428429941073757</td>
<td style="text-align:center">107.51746256562507</td>
<td style="text-align:center">0.32756014354099566</td>
<td style="text-align:center">0.47338226982711074</td>
<td style="text-align:center">0.6247744404420627</td>
<td style="text-align:center">0.4278626397349271</td>
<td style="text-align:center">109.62697812823446</td>
<td style="text-align:center">0.3268882442664923</td>
<td style="text-align:center">0.4734059214468595</td>
<td style="text-align:center">0.6234372446478182</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">0.5401820964436721</td>
<td style="text-align:center">93.97378402119068</td>
<td style="text-align:center">0.43930149737499746</td>
<td style="text-align:center">0.5972238299842704</td>
<td style="text-align:center">0.7280143268621857</td>
<td style="text-align:center">0.541082498409603</td>
<td style="text-align:center">94.12529961322656</td>
<td style="text-align:center">0.44004671242577764</td>
<td style="text-align:center">0.598814484937626</td>
<td style="text-align:center">0.728281445770006</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">0.24832751622454108</td>
<td style="text-align:center">219.70621761305216</td>
<td style="text-align:center">0.180754066881388</td>
<td style="text-align:center">0.26791368474093846</td>
<td style="text-align:center">0.37180386362243545</td>
<td style="text-align:center">0.24727841150416585</td>
<td style="text-align:center">223.68315220351909</td>
<td style="text-align:center">0.17945470392765703</td>
<td style="text-align:center">0.2674354469684589</td>
<td style="text-align:center">0.3707134880427085</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">0.3213580182020486</td>
<td style="text-align:center">135.4179610096897</td>
<td style="text-align:center">0.23454448885650667</td>
<td style="text-align:center">0.35075277310581043</td>
<td style="text-align:center">0.485356503265081</td>
<td style="text-align:center">0.3207755248926456</td>
<td style="text-align:center">138.59269965135914</td>
<td style="text-align:center">0.23358936645421366</td>
<td style="text-align:center">0.35099689491747016</td>
<td style="text-align:center">0.4851657405894209</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">0.49600111565653976</td>
<td style="text-align:center">96.99782441422609</td>
<td style="text-align:center">0.3914760617471418</td>
<td style="text-align:center">0.5520199922373465</td>
<td style="text-align:center">0.6918124433973185</td>
<td style="text-align:center">0.49612402287679197</td>
<td style="text-align:center">97.00388475785803</td>
<td style="text-align:center">0.3909986653592635</td>
<td style="text-align:center">0.5527795936155145</td>
<td style="text-align:center">0.6922018848395708</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">0.3457875705998156</td>
<td style="text-align:center">138.9755714742913</td>
<td style="text-align:center">0.25656931572890634</td>
<td style="text-align:center">0.3794575675657272</td>
<td style="text-align:center">0.5174693749702091</td>
<td style="text-align:center">0.34551373128746576</td>
<td style="text-align:center">142.5985046576238</td>
<td style="text-align:center">0.25680598681701805</td>
<td style="text-align:center">0.38010023424306805</td>
<td style="text-align:center">0.5153007027292041</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">0.5968819649446984</td>
<td style="text-align:center">85.82162458462712</td>
<td style="text-align:center">0.5054441085144632</td>
<td style="text-align:center">0.652652938933377</td>
<td style="text-align:center">0.7615793702674729</td>
<td style="text-align:center">0.5982212907615312</td>
<td style="text-align:center">83.6159597431515</td>
<td style="text-align:center">0.5072247151991393</td>
<td style="text-align:center">0.653577970406586</td>
<td style="text-align:center">0.7624491852618533</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center"><strong><code>0.6225582943375586</code></strong></td>
<td style="text-align:center">113.25173299014</td>
<td style="text-align:center"><strong><code>0.5392050716347987</code></strong></td>
<td style="text-align:center"><strong><code>0.6751477637958272</code></strong></td>
<td style="text-align:center"><strong><code>0.7693318625047666</code></strong></td>
<td style="text-align:center"><strong><code>0.6232425193927783</code></strong></td>
<td style="text-align:center">112.21650312889409</td>
<td style="text-align:center"><strong><code>0.5398244550821547</code></strong></td>
<td style="text-align:center"><strong><code>0.675854743049361</code></strong></td>
<td style="text-align:center"><strong><code>0.7700960798599998</code></strong></td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">0.3823081701644151</td>
<td style="text-align:center">133.4291074249605</td>
<td style="text-align:center">0.2886773437925587</td>
<td style="text-align:center">0.42136514681048104</td>
<td style="text-align:center">0.5626838535708449</td>
<td style="text-align:center">0.38265855488797723</td>
<td style="text-align:center">131.73779595116338</td>
<td style="text-align:center">0.28911117617818693</td>
<td style="text-align:center">0.4207528411992619</td>
<td style="text-align:center">0.5635073574974294</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">0.5897058289966878</td>
<td style="text-align:center">91.26739118592363</td>
<td style="text-align:center">0.5000783080023969</td>
<td style="text-align:center">0.6425988723647655</td>
<td style="text-align:center">0.7535681211526938</td>
<td style="text-align:center">0.5906692746677442</td>
<td style="text-align:center">89.94371735770171</td>
<td style="text-align:center">0.5007898840368522</td>
<td style="text-align:center">0.6441708600883853</td>
<td style="text-align:center">0.7541451888571876</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">0.6116322570059144</td>
<td style="text-align:center">113.25871261644059</td>
<td style="text-align:center">0.5251232499863813</td>
<td style="text-align:center">0.665675900201558</td>
<td style="text-align:center">0.7664106335457863</td>
<td style="text-align:center">0.6126477150112932</td>
<td style="text-align:center">110.57705454966396</td>
<td style="text-align:center">0.5267879638015212</td>
<td style="text-align:center">0.6655385851542657</td>
<td style="text-align:center">0.7667833334468224</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">0.332514993750518</td>
<td style="text-align:center">140.62108377537334</td>
<td style="text-align:center">0.2472983923136112</td>
<td style="text-align:center">0.3630981158541983</td>
<td style="text-align:center">0.4941984379362237</td>
<td style="text-align:center">0.330369024290014</td>
<td style="text-align:center">142.8575679577273</td>
<td style="text-align:center">0.245471754644005</td>
<td style="text-align:center">0.3604891866862777</td>
<td style="text-align:center">0.49164828130958216</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">0.5469951827858731</td>
<td style="text-align:center">107.08743939641553</td>
<td style="text-align:center">0.4516022498229558</td>
<td style="text-align:center">0.6009151822193168</td>
<td style="text-align:center">0.7234297543171542</td>
<td style="text-align:center">0.5477246486108881</td>
<td style="text-align:center">105.14996220813444</td>
<td style="text-align:center">0.4522324438058792</td>
<td style="text-align:center">0.6013502931423085</td>
<td style="text-align:center">0.7248207439890506</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">0.6015926580140895</td>
<td style="text-align:center">115.81775685024786</td>
<td style="text-align:center">0.5147661654954513</td>
<td style="text-align:center">0.6540761017595468</td>
<td style="text-align:center">0.7585423816527755</td>
<td style="text-align:center">0.6017575744962644</td>
<td style="text-align:center">113.84758983228583</td>
<td style="text-align:center">0.514163437902177</td>
<td style="text-align:center">0.6548955786921972</td>
<td style="text-align:center">0.7597560892568962</td>
</tr>
</tbody>
</table>
<p>ComplEx 模型最佳参数是第 12 号:</p>
<ul>
<li>
<p>batch_size: <strong>4096</strong></p>
</li>
<li>
<p>neg_sample_size: <strong>256</strong></p>
</li>
<li>
<p>hidden_dim: 200, <strong>400</strong></p>
</li>
<li>
<p>gamma: <strong>50</strong>, 125, 200</p>
</li>
<li>
<p>lr: 0.01, 0.05, <strong>0.1</strong></p>
</li>
</ul>
<p>对应的测试集结果:</p>
<ul>
<li>
<p>Test average MRR : 0.6205933890482063</p>
</li>
<li>
<p>Test average MR : 112.74029838550426</p>
</li>
<li>
<p>Test average HITS@1 : 0.5368538782625275</p>
</li>
<li>
<p>Test average HITS@3 : 0.673296131611023</p>
</li>
<li>
<p>Test average HITS@10 : 0.7684822650605692</p>
</li>
</ul>
<h3 id="rotate">RotatE</h3>
<p>训练脚本: <a href="08_Train_RotatE.ipynb">08_Train_RotatE.ipynb</a></p>
<p>RotatE 模型的网格搜索验证集结果, 加粗的是最优结果, MR 越低越好, MRR 和 Hits@k 越高越好.</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数编号</th>
<th style="text-align:center">[0]MRR</th>
<th style="text-align:center">[0]MR</th>
<th style="text-align:center">[0]HITS@1</th>
<th style="text-align:center">[0]HITS@3</th>
<th style="text-align:center">[0]HITS@10</th>
<th style="text-align:center">[1]MRR</th>
<th style="text-align:center">[1]MR</th>
<th style="text-align:center">[1]HITS@1</th>
<th style="text-align:center">[1]HITS@3</th>
<th style="text-align:center">[1]HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.5476224588249963</td>
<td style="text-align:center">70.8774692387833</td>
<td style="text-align:center">0.4508365280510973</td>
<td style="text-align:center">0.6048502965469811</td>
<td style="text-align:center">0.7183654847913277</td>
<td style="text-align:center">0.545990260653221</td>
<td style="text-align:center">73.28551097673912</td>
<td style="text-align:center">0.44880358991120556</td>
<td style="text-align:center">0.6036355341286702</td>
<td style="text-align:center">0.7168961431606472</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.5219364930603517</td>
<td style="text-align:center">71.40283404944947</td>
<td style="text-align:center">0.4167489462538388</td>
<td style="text-align:center">0.5841601013230557</td>
<td style="text-align:center">0.7088596389685204</td>
<td style="text-align:center">0.5193797369810023</td>
<td style="text-align:center">73.27038731818925</td>
<td style="text-align:center">0.41355477474532876</td>
<td style="text-align:center">0.5824753500027238</td>
<td style="text-align:center">0.7072097837337256</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.4918308723175946</td>
<td style="text-align:center">75.99342898193481</td>
<td style="text-align:center">0.3841560157159686</td>
<td style="text-align:center">0.5536201883464867</td>
<td style="text-align:center">0.686804170042967</td>
<td style="text-align:center">0.4892873800041604</td>
<td style="text-align:center">77.6950958762325</td>
<td style="text-align:center">0.3809990739227543</td>
<td style="text-align:center">0.5513700495723702</td>
<td style="text-align:center">0.6845957945198017</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.5985003701989992</td>
<td style="text-align:center">67.07690474407076</td>
<td style="text-align:center">0.5028088548724269</td>
<td style="text-align:center">0.6593659137800718</td>
<td style="text-align:center">0.7615401376849589</td>
<td style="text-align:center">0.5969835263712435</td>
<td style="text-align:center">69.65118891975813</td>
<td style="text-align:center">0.5013380454322601</td>
<td style="text-align:center">0.6580153347496868</td>
<td style="text-align:center">0.7596761453396524</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.6017782716234142</td>
<td style="text-align:center"><strong><code>60.91930245068332</code></strong></td>
<td style="text-align:center">0.502798640854709</td>
<td style="text-align:center">0.6661786635979218</td>
<td style="text-align:center">0.7695547369209503</td>
<td style="text-align:center">0.6001885700442473</td>
<td style="text-align:center">63.01837173830147</td>
<td style="text-align:center">0.5011814294274664</td>
<td style="text-align:center">0.6649847469630114</td>
<td style="text-align:center">0.7679495560276733</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">0.5774183128251846</td>
<td style="text-align:center">62.680663370921174</td>
<td style="text-align:center">0.47259900855259573</td>
<td style="text-align:center">0.6458503568121152</td>
<td style="text-align:center">0.757517568230103</td>
<td style="text-align:center">0.5790303370345516</td>
<td style="text-align:center">61.33354215325112</td>
<td style="text-align:center">0.47446495570520986</td>
<td style="text-align:center">0.6468435280579067</td>
<td style="text-align:center">0.7583635781746869</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">0.5694204668777523</td>
<td style="text-align:center">79.21241556354524</td>
<td style="text-align:center">0.4661743476602931</td>
<td style="text-align:center">0.635278776488533</td>
<td style="text-align:center">0.7486755733507654</td>
<td style="text-align:center">0.5713861354586558</td>
<td style="text-align:center">76.52468728082421</td>
<td style="text-align:center">0.46843868525163934</td>
<td style="text-align:center">0.6370074289955535</td>
<td style="text-align:center">0.7502945041775333</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center"><strong><code>0.6159215820161785</code></strong></td>
<td style="text-align:center">62.89526546232049</td>
<td style="text-align:center"><strong><code>0.5171152890226547</code></strong></td>
<td style="text-align:center"><strong><code>0.6825959947431856</code></strong></td>
<td style="text-align:center"><strong><code>0.7816208965183818</code></strong></td>
<td style="text-align:center"><strong><code>0.6135984576630072</code></strong></td>
<td style="text-align:center">64.93042504221823</td>
<td style="text-align:center"><strong><code>0.5142861033938008</code></strong></td>
<td style="text-align:center"><strong><code>0.6807450836193277</code></strong></td>
<td style="text-align:center"><strong><code>0.7798319442174647</code></strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">0.5976592798000654</td>
<td style="text-align:center">61.72555087977339</td>
<td style="text-align:center">0.4928671623903688</td>
<td style="text-align:center">0.668832053167729</td>
<td style="text-align:center">0.7746874489295636</td>
<td style="text-align:center">0.5992451523765985</td>
<td style="text-align:center"><strong><code>59.85334032426102</code></strong></td>
<td style="text-align:center">0.49443336034373575</td>
<td style="text-align:center">0.6704719557120192</td>
<td style="text-align:center">0.775645696153401</td>
</tr>
</tbody>
</table>
<p>RotatE 模型最佳参数是第 8 号:</p>
<ul>
<li>
<p>batch_size: <strong>4096</strong></p>
</li>
<li>
<p>neg_sample_size: <strong>256</strong></p>
</li>
<li>
<p>hidden_dim: <strong>200</strong></p>
</li>
<li>
<p>gamma: 6, 12, <strong>18</strong></p>
</li>
<li>
<p>lr: 0.01, <strong>0.05</strong>, 0.1</p>
</li>
</ul>
<p>对应的测试集结果:</p>
<ul>
<li>
<p>Test average MRR : 0.6142171144502637</p>
</li>
<li>
<p>Test average MR : 63.51198955446455</p>
</li>
<li>
<p>Test average HITS@1 : 0.5154776415152155</p>
</li>
<li>
<p>Test average HITS@3 : 0.6808017322974049</p>
</li>
<li>
<p>Test average HITS@10 : 0.7799526069577889</p>
</li>
</ul>
<h2 id="最优模型">最优模型</h2>
<p>各种模型最佳参数</p>
<table>
<thead>
<tr>
<th style="text-align:center">模型</th>
<th style="text-align:center">编号</th>
<th style="text-align:center">batch_size</th>
<th style="text-align:center">neg_sample_size</th>
<th style="text-align:center">hidden_dim</th>
<th style="text-align:center">gamma</th>
<th style="text-align:center">lr</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TransE_l1</td>
<td style="text-align:center">17</td>
<td style="text-align:center">4096</td>
<td style="text-align:center">256</td>
<td style="text-align:center">400</td>
<td style="text-align:center">18</td>
<td style="text-align:center">0.05</td>
</tr>
<tr>
<td style="text-align:center">TransE_l2</td>
<td style="text-align:center">15</td>
<td style="text-align:center">4096</td>
<td style="text-align:center">256</td>
<td style="text-align:center">400</td>
<td style="text-align:center">12</td>
<td style="text-align:center">0.1</td>
</tr>
<tr>
<td style="text-align:center">DistMult</td>
<td style="text-align:center">12</td>
<td style="text-align:center">4096</td>
<td style="text-align:center">256</td>
<td style="text-align:center">400</td>
<td style="text-align:center">50</td>
<td style="text-align:center">0.1</td>
</tr>
<tr>
<td style="text-align:center">ComplEx</td>
<td style="text-align:center">12</td>
<td style="text-align:center">4096</td>
<td style="text-align:center">256</td>
<td style="text-align:center">400</td>
<td style="text-align:center">50</td>
<td style="text-align:center">0.1</td>
</tr>
<tr>
<td style="text-align:center">RotatE</td>
<td style="text-align:center">8</td>
<td style="text-align:center">4096</td>
<td style="text-align:center">256</td>
<td style="text-align:center">200</td>
<td style="text-align:center">18</td>
<td style="text-align:center">0.05</td>
</tr>
</tbody>
</table>
<p>对应的测试集结果, 加粗的是最优结果, 斜体是次优结果, MR 越低越好, MRR 和 Hits@k 越高越好.:</p>
<table>
<thead>
<tr>
<th style="text-align:center">模型</th>
<th style="text-align:center">MRR</th>
<th style="text-align:center">MR</th>
<th style="text-align:center">HITS@1</th>
<th style="text-align:center">HITS@3</th>
<th style="text-align:center">HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TransE_l1</td>
<td style="text-align:center">0.5299729313494324</td>
<td style="text-align:center"><em><code>62.644429615203904</code></em></td>
<td style="text-align:center">0.41152788086369735</td>
<td style="text-align:center">0.6055363380703678</td>
<td style="text-align:center">0.7400889981410488</td>
</tr>
<tr>
<td style="text-align:center">TransE_l2</td>
<td style="text-align:center">0.43722459698865124</td>
<td style="text-align:center"><strong><code>60.83355236726884</code></strong></td>
<td style="text-align:center">0.3020931926976583</td>
<td style="text-align:center">0.5153057055502972</td>
<td style="text-align:center">0.6925784947261622</td>
</tr>
<tr>
<td style="text-align:center">DistMult</td>
<td style="text-align:center">0.4837632646888461</td>
<td style="text-align:center">105.5472364272728</td>
<td style="text-align:center">0.4006771893746978</td>
<td style="text-align:center">0.51485118176185</td>
<td style="text-align:center">0.6430064620685428</td>
</tr>
<tr>
<td style="text-align:center">ComplEx</td>
<td style="text-align:center"><strong><code>0.6205933890482063</code></strong></td>
<td style="text-align:center">112.74029838550426</td>
<td style="text-align:center"><strong><code>0.5368538782625275</code></strong></td>
<td style="text-align:center"><em><code>0.673296131611023</code></em></td>
<td style="text-align:center"><em><code>0.7684822650605692</code></em></td>
</tr>
<tr>
<td style="text-align:center">RotatE</td>
<td style="text-align:center"><em><code>0.6142171144502637</code></em></td>
<td style="text-align:center">63.51198955446455</td>
<td style="text-align:center"><em><code>0.5154776415152155</code></em></td>
<td style="text-align:center"><strong><code>0.6808017322974049</code></strong></td>
<td style="text-align:center"><strong><code>0.7799526069577889</code></strong></td>
</tr>
</tbody>
</table>
<hr>
<p>对应的测试集结果, 加粗的是最优结果, 斜体是次优结果, MR 越低越好, MRR 和 Hits@k 越高越好. 其中 MRR 和 Hits@k 保留小数点后三位 (四舍五入), MR 保留小数点后两位 (四舍五入):</p>
<table>
<thead>
<tr>
<th style="text-align:center">模型</th>
<th style="text-align:center">MRR</th>
<th style="text-align:center">MR</th>
<th style="text-align:center">HITS@1</th>
<th style="text-align:center">HITS@3</th>
<th style="text-align:center">HITS@10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TransE_l1</td>
<td style="text-align:center">0.530</td>
<td style="text-align:center"><em><code>62.64</code></em></td>
<td style="text-align:center">0.412</td>
<td style="text-align:center">0.606</td>
<td style="text-align:center">0.740</td>
</tr>
<tr>
<td style="text-align:center">TransE_l2</td>
<td style="text-align:center">0.437</td>
<td style="text-align:center"><strong><code>60.83</code></strong></td>
<td style="text-align:center">0.302</td>
<td style="text-align:center">0.515</td>
<td style="text-align:center">0.693</td>
</tr>
<tr>
<td style="text-align:center">DistMult</td>
<td style="text-align:center">0.484</td>
<td style="text-align:center">105.55</td>
<td style="text-align:center">0.401</td>
<td style="text-align:center">0.515</td>
<td style="text-align:center">0.643</td>
</tr>
<tr>
<td style="text-align:center">ComplEx</td>
<td style="text-align:center"><strong><code>0.621</code></strong></td>
<td style="text-align:center">112.74</td>
<td style="text-align:center"><strong><code>0.537</code></strong></td>
<td style="text-align:center"><em><code>0.673</code></em></td>
<td style="text-align:center"><em><code>0.768</code></em></td>
</tr>
<tr>
<td style="text-align:center">RotatE</td>
<td style="text-align:center"><em><code>0.614</code></em></td>
<td style="text-align:center">63.51</td>
<td style="text-align:center"><em><code>0.515</code></em></td>
<td style="text-align:center"><strong><code>0.681</code></strong></td>
<td style="text-align:center"><strong><code>0.780</code></strong></td>
</tr>
</tbody>
</table>
<p>由于 ComplEx 的 MR 的结果太差, 最终选择最优模型 RotatE.</p>
<blockquote>
<p>由于 RotatE 的训练时间较长, 所需的时间是 TransE_l2 的 8 倍 (3216.963 / 393.754 = 8.17), 因此，我们将 RotatE 的训练参数 max_step 由 100000 变为 60000, 且将 hidden_dim 固定为 200.</p>
</blockquote>
<h2 id="获得实体和关系嵌入">获得实体和关系嵌入</h2>
<p>实体和关系嵌入将保存在 ./ckpts, 将有以下输出文件:</p>
<ul>
<li>
<p><strong>Trained Embeddings</strong>: The saved model.</p>
<ul>
<li>
<p><code>&lt;dataset_name&gt;_&lt;model&gt;_entity.npy</code> for entity embedding: ./ckpts/&lt;model_name&gt;_&lt;dataset_name&gt;_&lt;run_id&gt;/&lt;dataset_name&gt;_&lt;model&gt;_entity.npy , 如 ./ckpts/TransE_l2_DRKG_0/DRKG_TransE_l2_entity.npy .</p>
</li>
<li>
<p><code>&lt;dataset_name&gt;_&lt;model&gt;_relation.npy</code> for relation embedding: ./ckpts/&lt;model_name&gt;_&lt;dataset_name&gt;_&lt;run_id&gt;/&lt;dataset_name&gt;_&lt;model&gt;_relation.npy , 如 ./ckpts/TransE_l2_DRKG_0/DRKG_TransE_l2_relation.npy .</p>
</li>
</ul>
</li>
<li>
<p><strong>config.json</strong>: The config file records all the details of the training configurations as well as the locations of ID mapping files generated by <strong>dgl_train</strong> : ./ckpts/&lt;model_name&gt;_&lt;dataset_name&gt;_&lt;run_id&gt;/config.json.</p>
</li>
<li>
<p><strong>ID mapping Files</strong> (Optional): The the input data is in format of Raw User Defined Knowledge Graph, that is all triplets use the Raw ID space. The training script will do the ID convertion and generate two ID mapping files: <code>entities.tsv</code> and <code>relations.tsv</code>.</p>
<ul>
<li>
<p><code>entities.tsv</code>: The entity id mapping, formated in <code>&lt;entity_id&gt;\t&lt;entity_name&gt;</code> pair: ./&lt;data_path&gt;/entities.tsv, 如 ./dataset/entities.tsv .</p>
</li>
<li>
<p><code>relations.tsv</code>: The relation id mapping, formated in <code>&lt;relation_id&gt;\t&lt;relation_name&gt;</code> pair: ./&lt;data_path&gt;/relations.tsv, 如 ./dataset/relations.tsv .</p>
</li>
</ul>
</li>
</ul>
<pre><code class="language-python">node_emb = np.load(<span class="hljs-string">&#x27;./ckpts/TransE_l2_DRKG_0/DRKG_TransE_l2_entity.npy&#x27;</span>)
relation_emb = np.load(<span class="hljs-string">&#x27;./ckpts/TransE_l2_DRKG_0/DRKG_TransE_l2_relation.npy&#x27;</span>)

<span class="hljs-built_in">print</span>(node_emb.shape)
<span class="hljs-built_in">print</span>(relation_emb.shape)
</code></pre>

        
        
    </body>
    </html>